<!DOCTYPE html>
<html lang="zh" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>什么？4元每月200G的服务器？还是阿里的？还有联通9929精品回程？？ - AcoFork Blog</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"/>
    <link rel="icon" href="https://q2.qlogo.cn/headimg_dl?dst_uin=2726730791&amp;spec=0">
    <script src="https://pic1.acofork.com/random.js"></script>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.acofork.com/rss.xml">
    <script src="/js/main.js"></script>
</head>
<body class="bg-[var(--page-bg)] text-gray-900 dark:text-gray-100 transition-colors duration-300 min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md shadow-sm dark:border-b dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <a href="/" class="text-xl font-bold text-blue-600 dark:text-blue-400">AcoFork Blog</a>
                    </div>
                    <!-- Desktop Menu -->
                    <div class="hidden md:ml-6 md:flex md:space-x-8">
                        
                        <a href="&#x2F;" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           >
                            首页
                        </a>
                        
                        <a href="&#x2F;posts" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           >
                            归档
                        </a>
                        
                        <a href="&#x2F;friends" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           >
                            友链
                        </a>
                        
                        <a href="&#x2F;sponsors" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           >
                            赞助
                        </a>
                        
                        <a href="https:&#x2F;&#x2F;umami.acofork.com&#x2F;share&#x2F;CdkXbGgZr6ECKOyK" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           target="_blank">
                            统计
                        </a>
                        
                        <a href="https:&#x2F;&#x2F;status.acofork.com" 
                           class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white dark:hover:border-gray-600 transition duration-150 ease-in-out"
                           target="_blank">
                            监控
                        </a>
                        
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Mobile Menu Button -->
                    <button type="button" onclick="toggleMobileMenu()" class="md:hidden p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                        <span class="sr-only">Open menu</span>
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                    <!-- Search Button -->
                    <button onclick="toggleSearch()" class="p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <!-- Theme Toggle -->
                    <button onclick="toggleTheme()" class="p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300">
                        <svg id="sun-icon" class="h-6 w-6 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <svg id="moon-icon" class="h-6 w-6 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
            <div class="px-2 pt-2 pb-3 space-y-1">
                
                <a href="&#x2F;" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   >
                    首页
                </a>
                
                <a href="&#x2F;posts" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   >
                    归档
                </a>
                
                <a href="&#x2F;friends" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   >
                    友链
                </a>
                
                <a href="&#x2F;sponsors" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   >
                    赞助
                </a>
                
                <a href="https:&#x2F;&#x2F;umami.acofork.com&#x2F;share&#x2F;CdkXbGgZr6ECKOyK" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   target="_blank">
                    统计
                </a>
                
                <a href="https:&#x2F;&#x2F;status.acofork.com" 
                   class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-200 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-700"
                   target="_blank">
                    监控
                </a>
                
            </div>
        </div>
    </nav>

    <!-- Search Modal -->
    <div id="search-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true">
        <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" onclick="toggleSearch()"></div>
        <div class="fixed inset-0 z-10 overflow-y-auto p-4 sm:p-6 md:p-20" onclick="if(event.target === this) toggleSearch()">
            <div class="mx-auto max-w-xl transform rounded-xl bg-white dark:bg-gray-800 p-2 shadow-2xl transition-all">
                <input type="text" id="search-input" 
                       class="w-full rounded-md border-0 bg-gray-100 dark:bg-gray-700 px-4 py-2.5 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-0 sm:text-sm" 
                       placeholder="搜索文章..." autocomplete="off">
                <ul id="search-results" class="max-h-96 scroll-py-3 overflow-y-auto p-3"></ul>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
<div class="max-w-4xl mx-auto">
    <!-- Post Header -->
    <header class="mb-8 text-center">
        <div class="flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-4">
            <time datetime="2026-01-16">2026-01-16</time>
            <span>•</span>
            <span>9 分钟阅读</span>
            <span id="views-separator" style="display: none">•</span>
            <span id="page-views" style="display: none"></span>
        </div>
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6 leading-tight">什么？4元每月200G的服务器？还是阿里的？还有联通9929精品回程？？</h1>
        
        <p class="text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto">通过创建抢占型实例+每月免费CDT 200G流量包，你几乎只需要付很少的硬盘费！</p>
        
        
        <div class="w-full rounded-2xl overflow-hidden shadow-sm mb-8">
            <img src="&#x2F;img&#x2F;fafa21aab903b9466cd0adb8485eac8e.png" alt="什么？4元每月200G的服务器？还是阿里的？还有联通9929精品回程？？" class="w-full h-auto">
        </div>
        
    </header>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const baseUrl = 'https://umami.acofork.com';
                const shareId = 'CdkXbGgZr6ECKOyK';
                // Current page path
                const urlPath = window.location.pathname;
                
                const stats = await window.fetchUmamiStats(baseUrl, shareId, {
                    url: urlPath
                });
                
                // Check for both 'visits' (new preference) or 'pageviews' (fallback)
                const metric = (stats && (stats.visits || stats.pageviews));
                
                let views = 0;
                let hasData = false;

                if (metric && typeof metric.value !== 'undefined') {
                    views = metric.value;
                    hasData = true;
                } else if (stats && (typeof stats.visits === 'number' || typeof stats.pageviews === 'number')) {
                        // Fallback for flat structure
                        views = stats.visits || stats.pageviews;
                        hasData = true;
                }

                if (hasData) {
                    const viewEl = document.getElementById('page-views');
                    viewEl.textContent = views + ' 次访问';
                    viewEl.style.display = 'inline';
                    document.getElementById('views-separator').style.display = 'inline';
                }
            } catch (e) {
                console.error('Failed to load page views:', e);
            }
        });
    </script>

    <!-- Post Content -->
    <article class="prose prose-lg dark:prose-invert max-w-none bg-white dark:bg-gray-800 p-8 md:p-12 rounded-2xl shadow-sm">
        <h1 id="正式开始">正式开始</h1>
<blockquote>
<p>[!CAUTION]
抢占型实例在高峰期可能会进行回收，不要跑生产业务</p>
</blockquote>
<blockquote>
<p>[!NOTE]
下文都是以 <strong>阿里云国内版</strong> 演示的，注意在国内版按量付费业务需要账户内可用余额要 &gt;=100 CNY。国际版无限制，但是要海外手机号+海外卡，有可能还需要KYC</p>
</blockquote>
<h3 id="下载Alpine镜像">下载Alpine镜像</h3>
<blockquote>
<p>由于我们主要的成本在硬盘上面，所以呢为了极致压缩空间，我们需要一个非常小巧的Linux镜像，以便我们可以用1G的 ESSD 云盘来安装。如果你也是极致玩家，仅用1G盘装系统，那么一定就要用我下面给你的Alpine镜像
如果你财大气粗，不在乎，或者说想跑一些正常业务，想用Debian或Ubuntu，那就10G起步，也不需要自定义镜像了</p>
</blockquote>
<p>Alpine 60M镜像链接</p>
<pre data-lang="bash" class="language-bash "><code class="language-bash" data-lang="bash">https:&#x2F;&#x2F;dl-cdn.alpinelinux.org&#x2F;alpine&#x2F;v3.23&#x2F;releases&#x2F;x86_64&#x2F;alpine-virt-3.23.2-x86_64.iso
</code></pre>
<h3 id="将镜像上传至阿里云OSS">将镜像上传至阿里云OSS</h3>
<blockquote>
<p>由于我们需要自定义镜像，但是镜像又必须要通过OSS提供，所以我们需要临时性的创建一个OSS Bucket实例，来上传我们的ISO镜像。在实例成功创建后，我们可以将其删除，以避免不必要的扣费</p>
</blockquote>
<p>首先，来到 <a rel="noopener nofollow" target="_blank" href="https://oss.console.aliyun.com/bucket">OSS管理控制台</a> ，创建一个 Bucket，<strong>地域一定要选中国香港</strong> ，并且上传ISO，最后，复制URL备用</p>
<p><img src="/img/a438a7a6f671effd1c6254c027526508.png" alt="" /></p>
<h3 id="导入镜像">导入镜像</h3>
<p>前往 <a rel="noopener nofollow" target="_blank" href="https://ecs.console.aliyun.com/image/region/cn-hongkong">云服务器管理控制台</a> ，选择右上角的 导入镜像
<img src="/img/eee4a755783aa59c2d424d58588f7529.png" alt="" /></p>
<p>注意需要授权ECS访问OSS业务
<img src="/img/d7b7c535afc304897c90d68131a6e1bf.png" alt="" /></p>
<p>然后正常填写，<strong>取消勾选“导入后执行检测”</strong> ，先不要点下一步</p>
<p><img src="/img/ae97dc273538e8f49e8e91e6efa3fafc.png" alt="" /></p>
<p>接下来勾选配置云盘属性，并且将 <strong>云盘容量设置为1GB</strong> ，确认无误，导入
<img src="/img/df6eead5041955f8ee97d4d349e4a15e.png" alt="" /></p>
<h3 id="创建ECS抢占型实例">创建ECS抢占型实例</h3>
<p>前往 <a rel="noopener nofollow" target="_blank" href="https://ecs.console.aliyun.com/server/">云服务器管理控制台</a> ，创建 <strong>中国香港</strong> 实例，注意红框区域要保持一致</p>
<p>另外，对于 <strong>网络及可用区</strong> ，香港一共有 <strong>B、C、D</strong> 三个区，D区比B、C区贵不少，可以都开开测个速，留下最好的
<img src="/img/ea819fcade89cf031047229bc7957788.png" alt="" /></p>
<h3 id="开通CDT">开通CDT</h3>
<p>前往 <a rel="noopener nofollow" target="_blank" href="https://cdt.console.aliyun.com/overview">云数据传输</a> 将升级状态全部变为已升级即可
<img src="/img/80735099be0596196d5dfdb39a4f5399.png" alt="" /></p>
<h3 id="创建&amp;绑定弹性公网IP并且挂上CDT">创建&amp;绑定弹性公网IP并且挂上CDT</h3>
<blockquote>
<p>因为弹性公网IP可以绑定CDT的每月200G免费流量，并且在绑定实例后，弹性公网IP将不会再扣费。如果后续删机的时候不要忘记释放弹性公网IP，否则会一直扣费</p>
</blockquote>
<p>进入 <a rel="noopener nofollow" target="_blank" href="https://vpc.console.aliyun.com/eip/cn-hongkong/eips">专有网络管理控制台</a> 如图选择，然后购买即可（这里显示的费用是纯持有不绑定的费用，一旦绑定就不计费了）
<img src="/img/6758d3b33c20eab848f915f697256984.png" alt="" /></p>
<p>接下来绑定弹性公网IP（因为我绑定过了，所以是解绑）
<img src="/img/bd9efa117fe081c0dd06678746bccf8e.png" alt="" /></p>
<p>接下来在这里绑定CDT，带宽最高可以拉到 2000Mbps，但是不推荐，一般300M够用了
<img src="/img/ba5ed9a4f23418b314a0398fa7758486.png" alt="" /></p>
<h3 id="配置Alpine">配置Alpine</h3>
<blockquote>
<p>如果你安装了Alpine，默认是需要VNC进入手动配置系统的。如果是公共镜像，则已经可以用了，但不要忘了保证系统纯净</p>
</blockquote>
<p>进入 <a rel="noopener nofollow" target="_blank" href="https://ecs.console.aliyun.com/server/">云服务器管理控制台</a> 选择你刚买的ECS，接下来点击 <strong>远程连接</strong> ，展开更多，选择 <strong>通过VNC远程连接</strong></p>
<p>接下来就是愉快的敲命令环节~ （方括号内为默认值，你可以输入新值回车覆盖也可以直接回车应用默认值）</p>
<ul>
<li>启动 Alpine 安装程序</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">localhost:~# setup-alpine
</code></pre>
<ul>
<li>选择键盘布局</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Select keyboard layout: [none] us
Select variant: [us]
</code></pre>
<ul>
<li>设置主机名</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Enter system hostname (fully qualified form, e.g. &#x27;foo.example.org&#x27;) [localhost] alpine-vps
</code></pre>
<ul>
<li>设置网卡</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Available interfaces are: eth0 lo
Which one do you want to initialize? [eth0]
</code></pre>
<ul>
<li>设置 IP 获取方式</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Ip address for eth0? (or &#x27;dhcp&#x27;, &#x27;none&#x27;, &#x27;manual&#x27;) [dhcp]
</code></pre>
<ul>
<li>是否进行手动网络配置</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Do you want to do any manual network configuration? [no]
</code></pre>
<ul>
<li>设置 root 密码（输入时不会显示）</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">New password:
Retype password:
</code></pre>
<ul>
<li>设置时区，或者（PRC）</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Which timezone are you in? (&#x27;?&#x27; for list) [UTC] Asia&#x2F;Shanghai
</code></pre>
<ul>
<li>设置代理</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">HTTP&#x2F;FTP proxy URL? [none]
</code></pre>
<ul>
<li>选择软件仓库镜像。这个地方建议先输入 <code>s</code> 列出所有镜像，然后上下翻找找到阿里云镜像源，然后输入对应镜像源编号，否则选错了你后续通过apk安装软件的时候不会免流</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Which mirror do you want to use? (or &#x27;?&#x27; or &#x27;done&#x27;) [44] 
</code></pre>
<ul>
<li>不创建普通用户</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Setup a user? (enter a username, or &#x27;no&#x27;) [no] no
</code></pre>
<ul>
<li>选择 SSH 服务</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Which SSH server? (&#x27;openssh&#x27;, &#x27;dropbear&#x27;, or &#x27;none&#x27;) [openssh]
</code></pre>
<ul>
<li>是否允许 root 通过 SSH 登录</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Allow root ssh login? (&#x27;?&#x27; for help) [prohibit-password] yes
</code></pre>
<ul>
<li>没有找到磁盘，是否安装至 vda 云盘，是</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">No disk available, Try boot media &#x2F;media&#x2F;vda ? (y&#x2F;n) [n] y
</code></pre>
<ul>
<li>选择要安装的磁盘</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Which disk(s) would you like to use? (or &#x27;?&#x27; for help or &#x27;none&#x27;) [none] vda
</code></pre>
<ul>
<li>选择磁盘使用方式</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">How would you like to use it? (&#x27;sys&#x27;, &#x27;data&#x27;, &#x27;crypt&#x27;, &#x27;lvm&#x27;) [sys]
</code></pre>
<ul>
<li>确认格式化磁盘</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">WARNING: Erase the above disk(s) and continue? [y&#x2F;N] y
</code></pre>
<ul>
<li>安装系统</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Installing system on &#x2F;dev&#x2F;sda:
  Installing alpine-base...
  Installing busybox...
  Installing openssh...
  Installing openrc...
</code></pre>
<ul>
<li>安装完成提示</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">Installation is complete. Please reboot.
</code></pre>
<ul>
<li>重启系统</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">localhost:~# reboot
</code></pre>
<ul>
<li>重启后登录</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">alpine-vps login: root
Password:
</code></pre>
<ul>
<li>设置DNS（Cloudflare &amp; Google DNS）</li>
</ul>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">alpine-vps:~# setup-dns
DNS Domain name? (e.g. &#x27;bar.com&#x27;) nameserver
DNS nameserver(s)? [223.5.5.5] 1.1.1.1 8.8.8.8
</code></pre>
<p>Alpine的软件包管理器为 <strong>APK</strong> ，首先我们先更新软件源</p>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">apk update
</code></pre>
<p>接下来，安装一些基本的软件包</p>
<pre data-lang="sql" class="language-sql "><code class="language-sql" data-lang="sql">apk add curl unzip jq openssl tar iproute2 bash
</code></pre>
<h3 id="设置保活&amp;用量封顶策略">设置保活&amp;用量封顶策略</h3>
<p>虽然我们将弹性公网IP连接了CDT，默认流量会从CDT的免费流量份额里面扣</p>
<p>但是一旦超出上限，那就会扣我们的真金白银了</p>
<p>所以，我们需要一个定时监测的服务，发现CDT流量快用完了立即停机</p>
<p>那么…让我们请出 Cloudflare Worker！</p>
<p><a rel="noopener nofollow" target="_blank" href="https://github.com/afoim/cf-worker-aliyun-cdt-tracker">afoim/cf-worker-aliyun-cdt-tracker</a></p>
<p>在Cloudflare Worker的仪表盘配置五个机密环境变量即可
以下是需要配置的机密环境变量 (Secrets)：</p>
<table><thead><tr><th style="text-align: left">变量名</th><th style="text-align: left">描述</th><th style="text-align: left">示例 / 备注</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>ACCESS_KEY_ID</code></td><td style="text-align: left">阿里云账号的 AccessKey ID</td><td style="text-align: left"><code>LTAIxxxxxxxxxxxx</code></td></tr>
<tr><td style="text-align: left"><code>ACCESS_KEY_SECRET</code></td><td style="text-align: left">阿里云账号的 AccessKey Secret</td><td style="text-align: left"><code>xxxxxxxxxxxxxxxxxxxxxxxx</code></td></tr>
<tr><td style="text-align: left"><code>REGION_ID</code></td><td style="text-align: left">ECS 实例所在的区域 ID。</td><td style="text-align: left">cn-hongkong</td></tr>
<tr><td style="text-align: left"><code>ECS_INSTANCE_ID</code></td><td style="text-align: left">需要控制的 ECS 实例 ID。在控制台获取</td><td style="text-align: left">i-xxxxxxxxxxxx</td></tr>
<tr><td style="text-align: left"><code>TRAFFIC_THRESHOLD_GB</code></td><td style="text-align: left">流量阈值（单位：GB），超过此值将停止实例</td><td style="text-align: left"><code>180</code> (默认为 180)</td></tr>
</tbody></table>
<p>我们需要前往 <a rel="noopener nofollow" target="_blank" href="https://ram.console.aliyun.com/profile/access-keys">https://ram.console.aliyun.com/profile/access-keys</a> 创建一个RAM用户，你就会得到 <code>ACCESS_KEY_ID</code> 和 <code>ACCESS_KEY_SECRET</code> ，并且分配权限：<code>AliyunECSFullAccess</code>  `AliyunCDTFullAccess</p>
<p>部署成功后，Cloudflare Worker将在每分钟检查一次CDT，如果超出流量阈值，会将指定ID的ECS停止
<img src="/img/528763bae959dd8431fb478798873404.png" alt="" /></p>
<h1 id="计费流程图">计费流程图</h1>
<p>带宽费（按固定带宽计费收取）：根据您指定的带宽峰值和计费时长后付费，与实际使用的流量无关。</p>
<p>流量费（按使用流量计费收取）：根据每小时公网的实际流量计费。</p>
<p>最终，抢占型ECS实例每个小时扣费 <strong>0.005528 元</strong> ，按照一个月31天，每月扣费 <strong>4.112832 元</strong> ，而弹性公网IP一经绑定便不再计费，CDT每月免费200G海外流量，不超出不计费，OSS免费存储5G，传入流量不计费，我们也没有传出流量，或者保险起见你也可以将其删除</p>
<p><strong>最终每月成本：不到5元！</strong>
<img src="/img/5a8cea3f1afaab3e37ba8c2464f4c6e3.png" alt="" /></p>

    </article>

    <!-- License -->
    <div class="mt-8 p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl text-sm text-gray-600 dark:text-gray-400">
        <div class="flex flex-col gap-2">
            <p class="font-medium text-gray-900 dark:text-white">版权声明</p>
            <p>
                本文由 <span class="font-medium">二叉树树</span> 创作，采用 
                <a href="https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:underline">CC BY-NC-SA 4.0</a> 
                许可协议。
            </p>
            <p>
                转载请注明出处：<a href="https:&#x2F;&#x2F;blog.acofork.com&#x2F;posts&#x2F;aliyun-ecs-4rm&#x2F;" class="text-blue-600 dark:text-blue-400 hover:underline break-all">AcoFork Blog - 什么？4元每月200G的服务器？还是阿里的？还有联通9929精品回程？？: https:&#x2F;&#x2F;blog.acofork.com&#x2F;posts&#x2F;aliyun-ecs-4rm&#x2F;</a>
            </p>
        </div>
    </div>

    <!-- Help & Edit -->
    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm">
            <h3 class="font-bold text-gray-900 dark:text-white mb-2">这篇文章是否对你有帮助？</h3>
            <div class="flex space-x-4">
                <a href="&#x2F;posts&#x2F;pin" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline">联系</a>
                <a href="&#x2F;sponsors" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline">赞助</a>
            </div>
        </div>
        <div class="p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-sm">
            <h3 class="font-bold text-gray-900 dark:text-white mb-2">发现错误或想要改进这篇文章？</h3>
            <a href="https:&#x2F;&#x2F;github.com&#x2F;afoim&#x2F;AcoFork_Blog_Zola/blob/main/content/posts&#x2F;aliyun-ecs-4rm.md" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline flex items-center">
                <span>在 GitHub 上编辑此页</span>
                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
            </a>
        </div>
    </div>

    <!-- Post Footer -->
    <footer class="mt-8 flex flex-wrap gap-2 justify-center">
        
    </footer>

    <!-- Comments (Giscus) -->
    <div class="mt-12 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm">
<script src="https://giscus.app/client.js"
        data-repo="afoim/giscus-fuwari"
        data-repo-id="R_kgDOOi8quw"
        data-category="Announcements"
        data-category-id="DIC_kwDOOi8qu84CprDV"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col items-center justify-center space-y-2">
                <p class="text-gray-500 dark:text-gray-400 text-sm">
                    &copy; 2026 二叉树树. 
                    <a href="https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;" target="_blank" class="hover:underline">CC BY-NC-SA 4.0</a>
                </p>
                <p class="text-gray-400 dark:text-gray-500 text-xs">
                    Powered by <a href="https://www.getzola.org" target="_blank" class="hover:text-gray-300">Zola</a>
                     · <a href="https://github.com/afoim/AcoFork_Blog_Zola" target="_blank" class="hover:text-gray-300">Source Code</a>
                </p>
                <a href="https://blog.acofork.com/rss.xml" target="_blank" class="text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 transition-colors p-2">
                    <span class="sr-only">RSS</span>
                    <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path d="M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z"></path>
                        <path d="M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1zM3 15a2 2 0 114 0 2 2 0 01-4 0z"></path>
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    <script src="/js/umami-share.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/gfm-alerts.js"></script>
    <script src="/js/anchor-fix.js"></script>
    <script>
        // Umami script needs to be loaded if it's not already
        // This is a workaround since we removed the original script tag
        (function() {
            var el = document.createElement('script');
            el.setAttribute('src', 'https://umami.acofork.com/script.js');
            el.setAttribute('data-website-id', '5d710dbd-3a2e-43e3-a553-97b415090c63');
            el.setAttribute('defer', '');
            document.body.appendChild(el);
        })();
    </script>
</body>
</html>
